# Slack-First AI Company Platform - POC ë¶„ì„ ë° ì„¤ê³„ ë³´ê³ ì„œ

**ì‘ì„±ì¼**: 2025-12-12
**ë²„ì „**: v0.4
**ìƒíƒœ**: êµ¬í˜„ ë°©í–¥ í™•ì •

---

## ë¬¸ì„œ êµ¬ì¡° ì•ˆë‚´

ì´ ë¬¸ì„œëŠ” ë‘ ê°€ì§€ ëª©ì ìœ¼ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤:

| ì„¹ì…˜ | ëª©ì  | ë‚´ìš© |
|-----|------|------|
| **ì„¹ì…˜ 1-5** | ğŸ“‹ **í˜„í™© ìŠ¤ëƒ…ìƒ·** | ë¹„ì „, ì•„í‚¤í…ì²˜, ê¸°ìˆ  ì˜µì…˜ ì •ë¦¬ |
| **ì„¹ì…˜ 6** | âœ… **ì˜ì‚¬ê²°ì • ê¸°ë¡** | ê²°ì •ëœ ì‚¬í•­ê³¼ ê·¼ê±° |
| **ì„¹ì…˜ 7-8** | ğŸš€ **ì‹¤í–‰ ê³„íš** | MVP ë‹¨ê³„, ë¡œë“œë§µ |

---

## ëª©ì°¨

1. [ë¹„ì „ ë° ëŒ€ì „ì œ](#1-ë¹„ì „-ë°-ëŒ€ì „ì œ)
2. [3-ë ˆì´ì–´ ì•„í‚¤í…ì²˜](#2-3-ë ˆì´ì–´-ì•„í‚¤í…ì²˜)
3. [Self-Host í•µì‹¬ ë¶€í’ˆ ë¶„ì„](#3-self-host-í•µì‹¬-ë¶€í’ˆ-ë¶„ì„)
4. [ë¶€í’ˆ ì¡°ë¦½: ì‹œìŠ¤í…œ êµ¬ì„±](#4-ë¶€í’ˆ-ì¡°ë¦½-ì‹œìŠ¤í…œ-êµ¬ì„±)
5. [ë ˆì´ì–´ë³„ ì˜¤í”ˆì†ŒìŠ¤ ì¬ë£Œ](#5-ë ˆì´ì–´ë³„-ì˜¤í”ˆì†ŒìŠ¤-ì¬ë£Œ)
6. [ì˜ì‚¬ê²°ì • ê¸°ë¡](#6-ì˜ì‚¬ê²°ì •-ê¸°ë¡)
7. [MVP ì „ëµ](#7-mvp-ì „ëµ)
8. [ë‹¤ìŒ ë‹¨ê³„](#8-ë‹¤ìŒ-ë‹¨ê³„)

---

## 1. ë¹„ì „ ë° ëŒ€ì „ì œ

### 1.1 í•µì‹¬ ë¹„ì „

> **"Slackì—ì„œ ëª¨ë“  ê²ƒì„ ì§€íœ˜í•˜ëŠ” AI Company"**

### 1.2 ëŒ€ì „ì œ

| # | ì›ì¹™ | ì„¤ëª… |
|---|------|------|
| **P1** | **Git Repo ì¤‘ì‹¬** | ëª¨ë“  ì œí’ˆ/ì£¼ì œëŠ” Git Repo URLì´ ì¡´ì¬í•´ì•¼ í•¨ |
| **P2** | **Self-Host ìš°ì„ ** | SaaS ì˜ì¡´ ìµœì†Œí™”, ì™„ì „í•œ ì œì–´ê¶Œ í™•ë³´ |
| **P3** | **í•µì‹¬ ë¶€í’ˆ ì¬ì¡°ë¦½** | ê¸°ì¡´ ì˜¤í”ˆì†ŒìŠ¤ì—ì„œ í•„ìš”í•œ ë¶€í’ˆë§Œ ì¶”ì¶œí•˜ì—¬ ì¡°í•© |

### 1.3 ê²°ê³¼ë¬¼ í˜•íƒœ

```
Type A: ì›¹ì•±/ì›¹ì½˜í…ì¸ 
â””â”€â”€ URLë¡œ ë°”ë¡œ í™•ì¸ (https://feature-x.app.preview.dev)

Type B: ë¬¸ì„œí™”
â””â”€â”€ GitHub Repoì— Markdown (docs/research/*.md)
```

---

## 2. 3-ë ˆì´ì–´ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ LAYER 1: Command (Slack)                                        â”‚
â”‚ â€¢ ì˜ì‚¬ê²°ì •, ì‘ì—… ì§€ì‹œ, ë¦¬ì„œì¹˜ ìš”ì²­                                 â”‚
â”‚ â€¢ ê²°ê³¼: ë¸Œëœì¹˜ â†’ PR â†’ í”„ë¦¬ë·° URL / ë¬¸ì„œ PR                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚ "Canvas ì—´ì–´ì¤˜"
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ LAYER 2: Canvas (Web UI)                                        â”‚
â”‚ â€¢ ì‹¤ì‹œê°„ í”„ë¦¬ë·° ë³´ë©´ì„œ ëŒ€í™”ë¡œ ìˆ˜ì •                                 â”‚
â”‚ â€¢ í˜¼ì/ê³µë™ ì‘ì—…                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚ "ì½”ë“œ ì§ì ‘ ë³¼ê²Œ"
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ LAYER 3: Code (Local IDE)                                       â”‚
â”‚ â€¢ git clone â†’ Cursor/VSCodeì—ì„œ ì§ì ‘ ì‘ì—…                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. Self-Host í•µì‹¬ ë¶€í’ˆ ë¶„ì„

### 3.1 í”„ë¦¬ë·° ë°°í¬: í•µì‹¬ ë¶€í’ˆ

> **ëª©í‘œ**: ë¸Œëœì¹˜ í‘¸ì‹œ â†’ ê²©ë¦¬ëœ í”„ë¦¬ë·° URL ìë™ ìƒì„±

#### Option A: Traefik + Docker ì§ì ‘ ì¡°ë¦½ (ìµœì†Œ ë¶€í’ˆ)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ìµœì†Œ ë¶€í’ˆ êµ¬ì„±                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  [Wildcard DNS]     *.app.example.com â†’ Server IP               â”‚
â”‚        â”‚                                                         â”‚
â”‚        â–¼                                                         â”‚
â”‚  [Traefik]          Reverse Proxy + Auto SSL (Let's Encrypt)    â”‚
â”‚        â”‚            - Docker Labelsë¡œ ë¼ìš°íŒ… ìë™ ì„¤ì •             â”‚
â”‚        â”‚            - Wildcard ì¸ì¦ì„œ (DNS-01 Challenge)         â”‚
â”‚        â”‚                                                         â”‚
â”‚        â–¼                                                         â”‚
â”‚  [Docker]           ì»¨í…Œì´ë„ˆë³„ ê²©ë¦¬ í™˜ê²½                          â”‚
â”‚        â”‚            - ë¸Œëœì¹˜ë³„ ì»¨í…Œì´ë„ˆ ìƒì„±                       â”‚
â”‚        â”‚            - ë¼ë²¨ë¡œ Traefik ë¼ìš°íŒ… ë“±ë¡                   â”‚
â”‚        â”‚                                                         â”‚
â”‚        â–¼                                                         â”‚
â”‚  [GitHub Webhook]   ë¸Œëœì¹˜ í‘¸ì‹œ â†’ ë¹Œë“œ â†’ ë°°í¬ íŠ¸ë¦¬ê±°               â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ì¥ì **: ì™„ì „í•œ ì œì–´, ìµœì†Œ ì˜ì¡´ì„±, ê°€ë²¼ì›€
**ë‹¨ì **: ì§ì ‘ êµ¬í˜„ í•„ìš” (ë°°í¬ ìŠ¤í¬ë¦½íŠ¸, ì •ë¦¬ ì •ì±… ë“±)

#### Option B: Dokploy í™œìš© (í†µí•© ì†”ë£¨ì…˜)

> [Dokploy](https://dokploy.com/) - Vercel/Netlify/Heroku ëŒ€ì²´ Self-host PaaS

**í•µì‹¬ ê¸°ëŠ¥**:
- Docker/Docker Compose ë„¤ì´í‹°ë¸Œ
- Traefik ìë™ í†µí•©, Let's Encrypt ìë™
- Multi-server ì§€ì› (Docker Swarm)
- GitHub Webhook ìë™ ë°°í¬
- ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ (CPU, Memory, Network)
- UI ëŒ€ì‹œë³´ë“œ ì œê³µ

**ìš”êµ¬ì‚¬í•­**: Ubuntu 20.04+, 2GB RAM, 30GB Disk

```bash
# ì„¤ì¹˜ (3-5ë¶„)
curl -sSL https://dokploy.com/install.sh | sh
```

#### Option C: Coolify í™œìš© (ë” ë§ì€ ê¸°ëŠ¥)

> [Coolify](https://coolify.io/) - ê°€ì¥ ì™„ì„±ë„ ë†’ì€ Self-host PaaS

**ì¶”ê°€ ê¸°ëŠ¥** (Dokploy ëŒ€ë¹„):
- PR Preview í…œí”Œë¦¿: `{{pr_id}}-{{domain}}`
- ë” ë§ì€ í…œí”Œë¦¿ (100+ one-click apps)
- S3 ë°±ì—… ì§€ì›
- íŒ€/ê¶Œí•œ ê´€ë¦¬

**ë‹¨ì **: ë” ë¬´ê±°ì›€, Laravel ê¸°ë°˜ (ì»¤ìŠ¤í„°ë§ˆì´ì§• ì‹œ PHP í•„ìš”)

#### ë¹„êµí‘œ

| í•­ëª© | Traefik ì§ì ‘ | Dokploy | Coolify |
|-----|-------------|---------|---------|
| **ì„¤ì • ë³µì¡ë„** | ë†’ìŒ | ë‚®ìŒ | ë‚®ìŒ |
| **ì»¤ìŠ¤í„°ë§ˆì´ì§•** | ì™„ì „ | ì¤‘ê°„ | ì¤‘ê°„ |
| **PR Preview** | ì§ì ‘ êµ¬í˜„ | âœ… ì§€ì› | âœ… í…œí”Œë¦¿ |
| **UI ëŒ€ì‹œë³´ë“œ** | âŒ | âœ… | âœ… |
| **ë¦¬ì†ŒìŠ¤ ì‚¬ìš©** | ìµœì†Œ | ì ìŒ | ë³´í†µ |
| **ê¸°ìˆ  ìŠ¤íƒ** | Docker | Docker/Node | Docker/PHP |
| **Multi-server** | ì§ì ‘ êµ¬í˜„ | âœ… Swarm | âœ… |

### 3.2 Traefik í•µì‹¬ ì„¤ì • (ê³µí†µ)

> Dokploy/Coolify ë‚´ë¶€ì—ì„œë„ Traefik ì‚¬ìš©. ì§ì ‘ êµ¬í˜„ ì‹œ ì°¸ê³ .

```yaml
# docker-compose.traefik.yml
version: '3.8'
services:
  traefik:
    image: traefik:v3.0
    command:
      # API/Dashboard
      - --api.dashboard=true
      # Docker provider
      - --providers.docker=true
      - --providers.docker.exposedbydefault=false
      # Entrypoints
      - --entrypoints.web.address=:80
      - --entrypoints.websecure.address=:443
      # Let's Encrypt (Wildcard)
      - --certificatesresolvers.letsencrypt.acme.dnschallenge=true
      - --certificatesresolvers.letsencrypt.acme.dnschallenge.provider=cloudflare
      - --certificatesresolvers.letsencrypt.acme.email=admin@example.com
      - --certificatesresolvers.letsencrypt.acme.storage=/letsencrypt/acme.json
      # Wildcard domain
      - --entrypoints.websecure.http.tls.domains[0].main=example.com
      - --entrypoints.websecure.http.tls.domains[0].sans=*.example.com
    environment:
      - CF_API_EMAIL=${CF_EMAIL}
      - CF_API_KEY=${CF_API_KEY}
    ports:
      - "80:80"
      - "443:443"
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock:ro
      - ./letsencrypt:/letsencrypt
    networks:
      - traefik-public

networks:
  traefik-public:
    external: true
```

```yaml
# ì•± ë°°í¬ ì˜ˆì‹œ (docker-compose.app.yml)
services:
  my-app:
    image: my-app:feature-login
    labels:
      - traefik.enable=true
      - traefik.http.routers.my-app.rule=Host(`feature-login.app.example.com`)
      - traefik.http.routers.my-app.entrypoints=websecure
      - traefik.http.routers.my-app.tls.certresolver=letsencrypt
      - traefik.http.services.my-app.loadbalancer.server.port=3000
    networks:
      - traefik-public
```

**ì°¸ê³  ìë£Œ**:
- [Traefik 3 Wildcard Certificates](https://technotim.live/posts/traefik-3-docker-certificates/)
- [Coolify Wildcard SSL Setup](https://coolify.io/docs/knowledge-base/proxy/traefik/wildcard-certs)

### 3.3 Canvas/Web UI: í•µì‹¬ ë¶€í’ˆ

#### claudecodeui (í•„ìˆ˜)

> [claudecodeui](https://github.com/siteboon/claudecodeui) - Claude Code CLI â†’ Web í”„ë¡ì‹œ

**ì¶”ì¶œí•  í•µì‹¬ ë¶€í’ˆ**:
```
/server/claude-sdk.js      â†’ Claude SDK ë˜í¼, ì„¸ì…˜ ê´€ë¦¬
/server/routes/agent.js    â†’ /api/agent/* API (Slack ì—°ë™ìš©)
/server/database/db.js     â†’ SQLite ì‚¬ìš©ì/APIí‚¤ ê´€ë¦¬
```

**Self-host ë°©ë²•**:
```bash
git clone https://github.com/siteboon/claudecodeui
cd claudecodeui
npm install
npm run dev  # localhost:3001
```

#### Claudable í”„ë¦¬ë·° ì»´í¬ë„ŒíŠ¸ (ì„ íƒ)

> [Claudable](https://github.com/opactorai/Claudable) - ì‹¤ì‹œê°„ í”„ë¦¬ë·° UI

**ì¶”ì¶œí•  í•µì‹¬ ë¶€í’ˆ**:
```
/lib/services/preview.ts   â†’ PreviewManager (dev ì„œë²„ ê´€ë¦¬)
/lib/server/websocket-manager.ts â†’ ì‹¤ì‹œê°„ ë³€ê²½ ë¸Œë¡œë“œìºìŠ¤íŠ¸
```

**âš ï¸ ìˆ˜ì • í•„ìš”**: localhost í•˜ë“œì½”ë”© â†’ í™˜ê²½ ì¸ì‹ URL ìƒì„±

### 3.4 Slack í†µí•©: í•µì‹¬ ë¶€í’ˆ

```
[@slack/bolt]              â†’ Slack ë´‡ í”„ë ˆì„ì›Œí¬
[Redis]                    â†’ Thread-Session ë§¤í•‘, ê³µë™ì‘ì—… ì ê¸ˆ
[claudecodeui API]         â†’ /api/agent/query í˜¸ì¶œ
```

**ìµœì†Œ êµ¬í˜„**:
```javascript
// slack-bot/index.js
import { App } from '@slack/bolt';
import Redis from 'ioredis';

const redis = new Redis(process.env.REDIS_URL);
const app = new App({
  token: process.env.SLACK_BOT_TOKEN,
  signingSecret: process.env.SLACK_SIGNING_SECRET,
  socketMode: true,
  appToken: process.env.SLACK_APP_TOKEN
});

// Thread â†’ Session ë§¤í•‘
app.message(async ({ message, say }) => {
  const threadTs = message.thread_ts || message.ts;
  const sessionId = await redis.get(`thread:${threadTs}`);

  // claudecodeui API í˜¸ì¶œ
  const response = await fetch('http://claudecodeui:3001/api/agent/query', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({
      message: message.text,
      sessionId,
      projectPath: await redis.get(`channel:${message.channel}:project`)
    })
  });

  const data = await response.json();
  await redis.set(`thread:${threadTs}`, data.sessionId);
  await say({ text: data.response, thread_ts: threadTs });
});

app.start();
```

---

## 4. ë¶€í’ˆ ì¡°ë¦½: ì‹œìŠ¤í…œ êµ¬ì„±

### 4.1 ì „ì²´ ì•„í‚¤í…ì²˜ (Self-Host)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              Your Server                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                         Docker Network                           â”‚   â”‚
â”‚  â”‚                                                                   â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚ Traefik  â”‚  â”‚ claudecodeui â”‚  â”‚     Preview Apps        â”‚   â”‚   â”‚
â”‚  â”‚  â”‚ :80/:443 â”‚  â”‚    :3001     â”‚  â”‚  feature-a:3000         â”‚   â”‚   â”‚
â”‚  â”‚  â”‚          â”‚â—„â”€â”¤              â”‚  â”‚  feature-b:3000         â”‚   â”‚   â”‚
â”‚  â”‚  â”‚          â”‚  â”‚              â”‚  â”‚  ...                    â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â”‚       â”‚               â”‚                                         â”‚   â”‚
â”‚  â”‚       â”‚         â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”                                   â”‚   â”‚
â”‚  â”‚       â”‚         â”‚   Redis   â”‚                                   â”‚   â”‚
â”‚  â”‚       â”‚         â”‚   :6379   â”‚                                   â”‚   â”‚
â”‚  â”‚       â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                   â”‚   â”‚
â”‚  â”‚       â”‚                                                         â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                â”‚   â”‚
â”‚  â”‚  â”‚ Slack    â”‚  â”‚  Dokploy/    â”‚                                â”‚   â”‚
â”‚  â”‚  â”‚ Bot      â”‚  â”‚  Coolify     â”‚ (Optional: ë°°í¬ ê´€ë¦¬ UI)        â”‚   â”‚
â”‚  â”‚  â”‚ :3002    â”‚  â”‚  :3000       â”‚                                â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                â”‚   â”‚
â”‚  â”‚                                                                   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                          â”‚
â”‚  DNS: *.app.example.com â†’ Server IP                                     â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ Webhook
                              â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  GitHub Repo    â”‚
                    â”‚  (Source)       â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 docker-compose êµ¬ì„± ì˜ˆì‹œ

```yaml
# docker-compose.yml
version: '3.8'

services:
  # Reverse Proxy
  traefik:
    image: traefik:v3.0
    # ... (3.2 ì„¤ì • ì°¸ì¡°)
    networks:
      - traefik-public

  # Claude Code Web Proxy
  claudecodeui:
    build: ./claudecodeui
    environment:
      - DATABASE_PATH=/data/app.db
      - REDIS_URL=redis://redis:6379
    volumes:
      - claudecodeui-data:/data
      - /home/user/.claude:/root/.claude:ro  # Claude ì¸ì¦
    labels:
      - traefik.enable=true
      - traefik.http.routers.claude.rule=Host(`claude.app.example.com`)
      - traefik.http.routers.claude.tls.certresolver=letsencrypt
      - traefik.http.services.claude.loadbalancer.server.port=3001
    networks:
      - traefik-public
      - internal

  # Slack Bot
  slack-bot:
    build: ./slack-bot
    environment:
      - SLACK_BOT_TOKEN=${SLACK_BOT_TOKEN}
      - SLACK_SIGNING_SECRET=${SLACK_SIGNING_SECRET}
      - SLACK_APP_TOKEN=${SLACK_APP_TOKEN}
      - REDIS_URL=redis://redis:6379
      - CLAUDE_API_URL=http://claudecodeui:3001
    networks:
      - internal

  # Session Store
  redis:
    image: redis:7-alpine
    volumes:
      - redis-data:/data
    networks:
      - internal

  # (Optional) ë°°í¬ ê´€ë¦¬ UI
  dokploy:
    image: dokploy/dokploy:latest
    # ... Dokploy ì„¤ì •
    networks:
      - traefik-public
      - internal

volumes:
  claudecodeui-data:
  redis-data:

networks:
  traefik-public:
    external: true
  internal:
```

### 4.3 í”„ë¦¬ë·° ë°°í¬ í”Œë¡œìš°

```
1. Slack: "@claude ë¡œê·¸ì¸ í˜ì´ì§€ ë§Œë“¤ì–´ì¤˜"
       â”‚
       â–¼
2. Slack Bot â†’ claudecodeui API
       â”‚
       â–¼
3. Claude Code: ì½”ë“œ ìƒì„± â†’ Git commit â†’ Push
       â”‚
       â–¼
4. GitHub Webhook â†’ Dokploy/ìŠ¤í¬ë¦½íŠ¸
       â”‚
       â–¼
5. Docker Build: my-app:feature-login
       â”‚
       â–¼
6. Docker Run + Traefik Labels
   labels:
     - traefik.http.routers.feature-login.rule=Host(`feature-login.app.example.com`)
       â”‚
       â–¼
7. Traefik: ìë™ ë¼ìš°íŒ… + SSL
       â”‚
       â–¼
8. Slack: "ğŸ“º í”„ë¦¬ë·°: https://feature-login.app.example.com"
```

---

## 5. ë ˆì´ì–´ë³„ ì˜¤í”ˆì†ŒìŠ¤ ì¬ë£Œ

### 5.1 LAYER 1: Slack Integration

| ë¶€í’ˆ | ì¶œì²˜ | ìš©ë„ | Self-host |
|-----|------|------|----------|
| Claude SDK Proxy | [claudecodeui](https://github.com/siteboon/claudecodeui) | AI ëŒ€í™” ì²˜ë¦¬ | âœ… |
| Slack Framework | [@slack/bolt](https://github.com/slackapi/bolt-js) | ë´‡ ì´ë²¤íŠ¸ ì²˜ë¦¬ | âœ… |
| Session Store | Redis | Thread-Session ë§¤í•‘ | âœ… |
| HITL SDK (ì„ íƒ) | [HumanLayer](https://github.com/humanlayer/humanlayer) | ìŠ¹ì¸ ì›Œí¬í”Œë¡œìš° | âœ… |

### 5.2 LAYER 2: Canvas UI

| ë¶€í’ˆ | ì¶œì²˜ | ìš©ë„ | Self-host |
|-----|------|------|----------|
| Web UI | claudecodeui Frontend | ëŒ€í™” ì¸í„°í˜ì´ìŠ¤ | âœ… |
| Preview Manager | [Claudable](https://github.com/opactorai/Claudable) | ì‹¤ì‹œê°„ í”„ë¦¬ë·° | âœ… (ìˆ˜ì •í•„ìš”) |
| WebSocket | ws / Socket.io | ì‹¤ì‹œê°„ ë™ê¸°í™” | âœ… |

### 5.3 LAYER 3: IDE (ì‚¬ìš©ì ì„ íƒ)

| ì˜µì…˜ | íŠ¹ì§• | ë¹„ìš© |
|-----|------|------|
| Cursor | AI ë„¤ì´í‹°ë¸Œ | $20/ì›” |
| VSCode + Copilot | ê°€ì¥ ë³´í¸ì  | $10/ì›” |
| VSCode + Continue | ì˜¤í”ˆì†ŒìŠ¤ AI | ë¬´ë£Œ |

### 5.4 ì¸í”„ë¼ (Self-Host)

| ë¶€í’ˆ | ì˜µì…˜ | ì¶”ì²œ |
|-----|------|------|
| **ë°°í¬ í”Œë«í¼** | Dokploy / Coolify / ì§ì ‘êµ¬í˜„ | **Dokploy** (ê°€ë³ê³  ì¶©ë¶„) |
| **Reverse Proxy** | Traefik / Caddy / nginx | **Traefik** (Docker ë„¤ì´í‹°ë¸Œ) |
| **SSL** | Let's Encrypt (ìë™) | Traefik í†µí•© |
| **DNS** | Cloudflare / Route53 | **Cloudflare** (ë¬´ë£Œ + DNS-01) |
| **ì„œë²„** | Hetzner / DigitalOcean / Vultr | **Hetzner** (ê°€ì„±ë¹„) |

---

## 6. ì˜ì‚¬ê²°ì • ê¸°ë¡

### 6.1 í™•ì •ëœ ì‚¬í•­ âœ…

| # | ê²°ì • | ì„ íƒ | ê·¼ê±° |
|---|------|------|------|
| **D1** | ë°°í¬ í”Œë«í¼ | **Dokploy** | Self-host, ê°€ë²¼ì›€, Traefik í†µí•© |
| **D2** | ì„œë²„ êµ¬ì„± | **ë‹¨ì¼ ì„œë²„** | 8ëª… ì†Œê·œëª¨, ë‹¨ìˆœí™” |
| **D3** | ì½”ë“œë² ì´ìŠ¤ | **ë‹¨ì¼ Repo** | ì˜¤í”ˆì†ŒìŠ¤ ë¶„í•´ â†’ í•µì‹¬ë§Œ ì¬ì¡°ë¦½ |
| **D4** | Reverse Proxy | **Traefik** | Docker ë¼ë²¨ ìë™ ì„¤ì •, Wildcard SSL |
| **D5** | DNS | **Cloudflare** | ë¬´ë£Œ, DNS-01 Challenge |
| **D6** | ì„¸ì…˜ ì €ì¥ì†Œ | **Redis** | Thread-Session ë§¤í•‘ |
| **D7** | êµ¬í˜„ ë°©ì‹ | **ë°”ë‹¥ë¶€í„° í•µì‹¬ë§Œ** | ì˜¤í”ˆì†ŒìŠ¤ ì°¸ê³ í•˜ë˜ ì§ì ‘ êµ¬í˜„ |

### 6.2 ë‹¨ì¼ Repo êµ¬ì¡°

```
slack-ai-platform/
â”œâ”€â”€ docker-compose.yml          # ì „ì²´ ì„œë¹„ìŠ¤ ì •ì˜
â”œâ”€â”€ .env.example                 # í™˜ê²½ë³€ìˆ˜ í…œí”Œë¦¿
â”‚
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ slack-bot/              # Layer 1: Slack ì—°ë™
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ index.ts        # Bolt ì•± ì§„ì…ì 
â”‚   â”‚   â”‚   â”œâ”€â”€ handlers/       # ë©”ì‹œì§€, ì»¤ë§¨ë“œ í•¸ë“¤ëŸ¬
â”‚   â”‚   â”‚   â””â”€â”€ services/       # Redis, Claude API í´ë¼ì´ì–¸íŠ¸
â”‚   â”‚   â”œâ”€â”€ Dockerfile
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”‚
â”‚   â”œâ”€â”€ claude-proxy/           # Claude Code CLI í”„ë¡ì‹œ
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ index.ts        # Express ì„œë²„
â”‚   â”‚   â”‚   â”œâ”€â”€ claude-sdk.ts   # Claude SDK ë˜í¼ (claudecodeui ì°¸ê³ )
â”‚   â”‚   â”‚   â”œâ”€â”€ session.ts      # ì„¸ì…˜ ê´€ë¦¬
â”‚   â”‚   â”‚   â””â”€â”€ routes/
â”‚   â”‚   â”‚       â””â”€â”€ agent.ts    # /api/agent/* ì—”ë“œí¬ì¸íŠ¸
â”‚   â”‚   â”œâ”€â”€ Dockerfile
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”‚
â”‚   â”œâ”€â”€ canvas-ui/              # Layer 2: ì›¹ UI (ì„ íƒ, MVP 3 ì´í›„)
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ app/            # Next.js App Router
â”‚   â”‚   â”‚   â””â”€â”€ components/     # í”„ë¦¬ë·°, ì±„íŒ… UI
â”‚   â”‚   â”œâ”€â”€ Dockerfile
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”‚
â”‚   â””â”€â”€ shared/                 # ê³µí†µ ëª¨ë“ˆ
â”‚       â”œâ”€â”€ types/              # TypeScript íƒ€ì…
â”‚       â””â”€â”€ utils/              # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
â”‚
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ deploy-preview.sh       # ë¸Œëœì¹˜ í”„ë¦¬ë·° ë°°í¬ ìŠ¤í¬ë¦½íŠ¸
â”‚   â””â”€â”€ cleanup-previews.sh     # ì˜¤ë˜ëœ í”„ë¦¬ë·° ì •ë¦¬
â”‚
â””â”€â”€ docs/
    â””â”€â”€ setup.md                # ì„¤ì¹˜ ê°€ì´ë“œ
```

### 6.3 ë ˆì´ì–´ë³„ ì¶”ì¶œ ë¶€í’ˆ

#### FROM claudecodeui (í•µì‹¬)

```
ì¶”ì¶œ:
â”œâ”€â”€ /server/claude-sdk.js       â†’ packages/claude-proxy/src/claude-sdk.ts
â”‚   â€¢ Claude Agent SDK ë˜í•‘
â”‚   â€¢ ì„¸ì…˜ ID ê´€ë¦¬
â”‚   â€¢ ìŠ¤íŠ¸ë¦¬ë° ì‘ë‹µ ì²˜ë¦¬
â”‚
â”œâ”€â”€ /server/routes/agent.js     â†’ packages/claude-proxy/src/routes/agent.ts
â”‚   â€¢ POST /api/agent/query
â”‚   â€¢ í”„ë¡œì íŠ¸ ê²½ë¡œ ê¸°ë°˜ ì»¨í…ìŠ¤íŠ¸
â”‚
â””â”€â”€ /server/projects.js         â†’ packages/claude-proxy/src/session.ts
    â€¢ JSONL ì„¸ì…˜ íŒŒì‹±
    â€¢ í”„ë¡œì íŠ¸ ë””ìŠ¤ì»¤ë²„ë¦¬
```

#### FROM Claudable (ì°¸ê³ )

```
ì°¸ê³  (í•„ìš”ì‹œ):
â”œâ”€â”€ /lib/services/preview.ts    â†’ packages/canvas-ui/src/services/preview.ts
â”‚   â€¢ Dev ì„œë²„ ê´€ë¦¬
â”‚   â€¢ í¬íŠ¸ í• ë‹¹
â”‚   âš ï¸ localhost í•˜ë“œì½”ë”© ìˆ˜ì • í•„ìš”
â”‚
â””â”€â”€ /lib/server/websocket-manager.ts â†’ ì‹¤ì‹œê°„ ë™ê¸°í™” ì°¸ê³ 
```

#### FROM coolify (ê°œë…ë§Œ)

```
ì°¸ê³  (ê°œë…):
â”œâ”€â”€ PR Preview URL í…œí”Œë¦¿       â†’ {{branch}}.app.example.com
â”œâ”€â”€ Traefik ë¼ë²¨ ìƒì„± íŒ¨í„´      â†’ scripts/deploy-preview.sh
â””â”€â”€ ë„ë©”ì¸ ìë™ ìƒì„±            â†’ Dokployê°€ ì²˜ë¦¬
```

### 6.4 ë³´ë¥˜ ì‚¬í•­

| # | í•­ëª© | ê²°ì • ì‹œì  |
|---|------|---------|
| P1 | Canvas UI ìƒì„¸ ì„¤ê³„ | MVP 2 ì™„ë£Œ í›„ |
| P2 | í”„ë¦¬ë·° ì •ë¦¬ ì •ì±… | MVP 3 êµ¬í˜„ ì‹œ |

---

## 7. MVP ì „ëµ

### 7.1 í•µì‹¬ ì›ì¹™

> **"ë°”ë‹¥ë¶€í„° í•µì‹¬ë§Œ â†’ ë°”ë¡œ ë™ì‘ â†’ ì ì§„ì  í™•ì¥"**

### 7.2 MVP ë‹¨ê³„

#### MVP 0: ì¸í”„ë¼ + Repo ì…‹ì—… (Day 1-2)

```
ì„œë²„ + Dokploy + ë‹¨ì¼ Repo ì´ˆê¸°í™”
```

**ì²´í¬ë¦¬ìŠ¤íŠ¸**:
- [ ] ì„œë²„ ì¤€ë¹„ (4GB RAM+)
- [ ] Dokploy ì„¤ì¹˜
- [ ] Wildcard DNS ì„¤ì • (*.app.example.com)
- [ ] `slack-ai-platform` repo ìƒì„±
- [ ] monorepo êµ¬ì¡° ì…‹ì—… (pnpm workspace)

**ì„±ê³µ ê¸°ì¤€**: Dokploy ëŒ€ì‹œë³´ë“œ ì ‘ì† ê°€ëŠ¥

---

#### MVP 1: claude-proxy êµ¬í˜„ (Day 3-5)

```
packages/claude-proxy â†’ Claude Code CLI í”„ë¡ì‹œ
```

**êµ¬í˜„**:
```typescript
// packages/claude-proxy/src/claude-sdk.ts
// claudecodeuiì˜ /server/claude-sdk.js ì°¸ê³ í•˜ì—¬ TypeScriptë¡œ ì¬ì‘ì„±

export async function queryClaudeSDK(options: {
  projectPath: string;
  message: string;
  sessionId?: string;
}) {
  // Claude Agent SDK í˜¸ì¶œ
  // ì„¸ì…˜ ê´€ë¦¬
  // ìŠ¤íŠ¸ë¦¬ë° ì‘ë‹µ
}
```

**ì²´í¬ë¦¬ìŠ¤íŠ¸**:
- [ ] claude-sdk.ts í•µì‹¬ ë¡œì§ êµ¬í˜„
- [ ] /api/agent/query ì—”ë“œí¬ì¸íŠ¸
- [ ] Docker ì´ë¯¸ì§€ ë¹Œë“œ
- [ ] Dokployì— ë°°í¬

**ì„±ê³µ ê¸°ì¤€**: `curl -X POST /api/agent/query` ì‘ë‹µ

---

#### MVP 2: slack-bot êµ¬í˜„ (Week 1)

```
packages/slack-bot â†’ Slack â†” claude-proxy ì—°ê²°
```

**êµ¬í˜„**:
```typescript
// packages/slack-bot/src/index.ts
import { App } from '@slack/bolt';

app.message(async ({ message, say }) => {
  const response = await fetch('http://claude-proxy:3001/api/agent/query', {
    method: 'POST',
    body: JSON.stringify({ message: message.text, ... })
  });
  await say({ text: response.data, thread_ts: message.ts });
});
```

**ì²´í¬ë¦¬ìŠ¤íŠ¸**:
- [ ] Slack App ìƒì„± (Socket Mode)
- [ ] @claude ë©˜ì…˜ í•¸ë“¤ëŸ¬
- [ ] Thread â†’ Session ë§¤í•‘ (Redis)
- [ ] Channel â†’ Project ë§¤í•‘

**ì„±ê³µ ê¸°ì¤€**:
```
[Slack]
ì‚¬ìš©ì: @claude ì•ˆë…•
Claude: ì•ˆë…•í•˜ì„¸ìš”!
```

---

#### MVP 3: Git + í”„ë¦¬ë·° (Week 2)

```
ì½”ë“œ ìƒì„± â†’ Git push â†’ í”„ë¦¬ë·° URL
```

**ì²´í¬ë¦¬ìŠ¤íŠ¸**:
- [ ] /claude init {repo-url} ì»¤ë§¨ë“œ
- [ ] ë¸Œëœì¹˜ ìë™ ìƒì„±/í‘¸ì‹œ
- [ ] Dokploy Preview Deployment ì—°ë™
- [ ] í”„ë¦¬ë·° URL Slack ê³µìœ 

**ì„±ê³µ ê¸°ì¤€**:
```
[Slack]
ì‚¬ìš©ì: @claude ë¡œê·¸ì¸ í˜ì´ì§€ ë§Œë“¤ì–´ì¤˜
Claude: ğŸ“º https://feature-login.app.example.com
```

---

#### MVP 4: Canvas UI (Week 3+)

```
packages/canvas-ui â†’ ì›¹ì—ì„œ ì‹œê°ì  ì‘ì—…
```

**ë³´ë¥˜** - MVP 3 ì™„ë£Œ í›„ ê²°ì •

---

### 7.3 ë§ˆì¼ìŠ¤í†¤

| Day/Week | ë§ˆì¼ìŠ¤í†¤ | ê²€ì¦ |
|----------|---------|------|
| D2 | ğŸ¯ ì¸í”„ë¼ ì™„ë£Œ | Dokploy ì ‘ì† |
| D5 | ğŸ¯ claude-proxy | API ì‘ë‹µ |
| W1 | ğŸ¯ Slack ì—°ë™ | @claude ì‘ë‹µ |
| W2 | ğŸ¯ í”„ë¦¬ë·° URL | ë¸Œëœì¹˜ â†’ URL |

---

## 8. ë‹¤ìŒ ë‹¨ê³„

### ì¦‰ì‹œ ì‹¤í–‰ (MVP 0)

1. [ ] ì„œë²„ ì¤€ë¹„ (Hetzner 4GB)
2. [ ] Dokploy ì„¤ì¹˜
3. [ ] Cloudflare DNS ì„¤ì • (*.app.example.com)
4. [ ] `slack-ai-platform` repo ìƒì„±
5. [ ] monorepo ì´ˆê¸°í™” (pnpm workspace)

### ê·¸ ë‹¤ìŒ (MVP 1)

1. [ ] claudecodeui ì†ŒìŠ¤ ë¶„ì„
2. [ ] claude-sdk.ts í•µì‹¬ ë¡œì§ ì¶”ì¶œ/ì¬ì‘ì„±
3. [ ] /api/agent/query ì—”ë“œí¬ì¸íŠ¸ êµ¬í˜„
4. [ ] Docker ì´ë¯¸ì§€ ë¹Œë“œ ë° ë°°í¬

---

## ì°¸ê³  ìë£Œ

### Self-Host í”Œë«í¼
- [Dokploy](https://dokploy.com/) - ê°€ë²¼ìš´ Self-host PaaS
- [Coolify](https://coolify.io/) - í’€ê¸°ëŠ¥ Self-host PaaS
- [Northflank Coolify Alternatives](https://northflank.com/blog/coolify-alternatives-in-2025)

### Traefik ì„¤ì •
- [Traefik 3 Wildcard Certificates](https://technotim.live/posts/traefik-3-docker-certificates/)
- [Traefik + Cloudflare](https://major.io/p/wildcard-letsencrypt-certificates-traefik-cloudflare/)

### ì˜¤í”ˆì†ŒìŠ¤ ì¬ë£Œ
- [claudecodeui](https://github.com/siteboon/claudecodeui)
- [Claudable](https://github.com/opactorai/Claudable)
- [Slack Bolt SDK](https://github.com/slackapi/bolt-js)

### ë‚´ë¶€ ë¬¸ì„œ
- [POC ì‹œìŠ¤í…œ ë¶„ì„ ë³´ê³ ì„œ](./POC_SYSTEM_ANALYSIS_REPORT.md)
- [HITL ì†”ë£¨ì…˜ ë¦¬ì„œì¹˜](../automation/EXISTING_SOLUTIONS_HITL.md)

---

*v0.4 - êµ¬í˜„ ë°©í–¥ í™•ì •: Dokploy + ë‹¨ì¼ì„œë²„ + ë‹¨ì¼ Repo, ë ˆì´ì–´ë³„ ì¶”ì¶œ ë¶€í’ˆ ëª…ì„¸*
